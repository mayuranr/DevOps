pipeline {
	agent any

	tools {
		maven 'MAVEN_HOME' 
        jdk 'JAVA_HOME' 
	}
	stages {
		stage('Clone sources){
		steps {
			git url: 'https://github.com/mayuranr/DevOps'
		}
	}
		stage('Execute Maven'){
		steps {
			script {
				rtMaven.run pom: 'pom.xml', goals: 'clean install', buildInfo: buildInfo
			}
		}
	}
		stage('Publish build info') {
		steps {
			script {
				server.publishBuildInfo buildInfo
			}
		}
	}
}